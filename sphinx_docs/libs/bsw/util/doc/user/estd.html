<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="EclipseOpenBSWDocumentation" name="dox_trace_storage" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>util::estd &mdash; Eclipse OpenBSW Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/rtd_theme_overrides.css?v=6fd0d55b" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/colors.css?v=3cafd8aa" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/colored_table.css?v=34b816d5" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/header.css?v=e632285e" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/dox_util_colors.css?v=dd14b177" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/dox_trace.css?v=60d3f72c" />

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../../../../_static/dox_trace.js?v=40719b51"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="util::logger" href="logger.html" />
    <link rel="prev" title="util::defer" href="defer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../doc/index.html" class="icon icon-home">
            Eclipse OpenBSW Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/learning/overview.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/learning/SysTest/HW_Testing_Guide.html">Hardware Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../tools/UdsTool/doc/index.html">UdsTool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/codingGuidelines/index.html">Coding Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/platforms/posix/index.html">POSIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/platforms/s32k148evb/index.html">S32K148 Evaluation Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/application/doc/index.html">application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/asyncBinding/doc/index.html">asyncBinding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/asyncCoreConfiguration/doc/index.html">asyncCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/configuration/doc/index.html">configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/consoleCommands/doc/index.html">consoleCommands - Command utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/posix/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/posix/main/doc/index.html">main</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/bspConfiguration/doc/index.html">bspConfiguration - S32k148EVB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/main/doc/index.html">main</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/transportConfiguration/doc/index.html">transportConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/udsConfiguration/doc/index.html">udsConfiguration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSW Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../async/doc/index.html">async - Asynchronous Execution Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../asyncConsole/doc/index.html">asyncConsole - Asynchronous Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../asyncFreeRtos/doc/index.html">asyncFreeRtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../asyncImpl/doc/index.html">asyncImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/doc/index.html">bsp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../common/doc/index.html">common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cpp2can/doc/index.html">cpp2can - CAN Abstraction Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docan/doc/index.html">docan - Diagnostics over CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../estd/doc/index.html">estd - Embedded Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../io/doc/index.html">io - IO Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lifecycle/doc/index.html">lifecycle - App Lifecycle Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../logger/doc/index.html">logger - Logger module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../loggerIntegration/doc/index.html">loggerIntegration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../platform/doc/index.html">platform - Platform Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../runtime/doc/index.html">runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../stdioConsoleInput/doc/index.html">stdioConsoleInput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../timer/doc/index.html">timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../transport/doc/index.html">transport - Transport Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../transportRouterSimple/doc/index.html">transportRouterSimple</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../uds/doc/index.html">uds - Unified Diagnostic Services</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">util</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">User Documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#overview">Overview</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="command.html">command</a></li>
<li class="toctree-l4"><a class="reference internal" href="crc.html">crc</a></li>
<li class="toctree-l4"><a class="reference internal" href="format.html">format</a></li>
<li class="toctree-l4"><a class="reference internal" href="defer.html">defer</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">estd</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#block-pool">block_pool</a></li>
<li class="toctree-l5"><a class="reference internal" href="#derived-object-pool">derived_object_pool</a></li>
<li class="toctree-l5"><a class="reference internal" href="#intrusive">intrusive</a></li>
<li class="toctree-l5"><a class="reference internal" href="#observable">observable</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="logger.html">logger</a></li>
<li class="toctree-l4"><a class="reference internal" href="memory.html">memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="meta.html">meta</a></li>
<li class="toctree-l4"><a class="reference internal" href="stream.html">stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="string.html">string</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspCharInputOutput/doc/index.html">bspCharInputOutput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspDynamicClient/doc/index.html">bspDynamicClient - Dynamic Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspInputManager/doc/index.html">bspInputManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspInterrupts/doc/index.html">bspInterrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspOutputManager/doc/index.html">bspOutputManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspOutputPwm/doc/index.html">bspOutputPwm - Output PWM driver</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules posix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/bspStdio/doc/index.html">bspStdio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/bspSystemTime/doc/index.html">bspSystemTime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/socketCanTransceiver/doc/index.html">socketCanTransceiver</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules s32k1xx</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspAdc/doc/index.html">bspAdc - ADC driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspClock/doc/index.html">bspClock</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspCore/doc/index.html">bspCore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspFlexCan/doc/index.html">bspFlexCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspFtm/doc/index.html">bspFtm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspFtmPwm/doc/index.html">bspFtmPwm - FTM driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspIo/doc/index.html">bspIo - IO driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspMcuWatchdog/doc/index.html">bspMcuWatchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspSci/doc/index.html">bspSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/canflex2Transceiver/doc/index.html">canflex2Transceiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/hardFaultHandler/doc/index.html">hardFaultHandler</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Configuration for s32k148evb</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/bspConfiguration/doc/index.html">bspConfiguration - S32k148EVB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/main/doc/index.html">main</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">UT Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspConfiguration/doc/index.html">bspConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspIo/doc/index.html">bspIo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspSci/doc/index.html">bspSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/common/doc/index.html">common</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../doc/index.html">Eclipse OpenBSW Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../doc/index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">util</a> &raquo;</li>
        
          <li><a href="index.html">User Documentation</a> &raquo;</li>
        
        <li><cite>util::estd</cite></li>
    

    

      <li class="wy-breadcrumbs-aside">

        <!-- DOCUMENT STATUS -->

        

        <!-- DATA CLASSIFICATION -->

        

      </li>

    
  </ul>

  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="util-estd">
<span id="id1"></span><h1><cite>util::estd</cite><a class="headerlink" href="#util-estd" title="Link to this heading"></a></h1>
<p>The submodule provides ‘ready-to-use’ data structures that can be seamlessly integrated into client classes.</p>
<section id="block-pool">
<h2>block_pool<a class="headerlink" href="#block-pool" title="Link to this heading"></a></h2>
<p>Template class <code class="docutils literal notranslate"><span class="pre">block_pool</span></code> allocates memory pool for objects of specific size, i.e. implements customer memory management (arena).
The <code class="docutils literal notranslate"><span class="pre">acquire()</span></code> method provides next vacant memory block and <code class="docutils literal notranslate"><span class="pre">release()</span></code> method releases a block.
Releasing block may cause defragmentation in the data - the created “hole” will become the next vacant memory block.
Hence the complexity of finding next vacant block is O(1).
<strong>The data structure is not thread-safe!</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">util</span><span class="o">::</span><span class="n">estd</span><span class="o">::</span><span class="n">declare</span><span class="o">::</span><span class="n">block_pool</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pool</span><span class="p">;</span>
<span class="kt">uint8_t</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pool</span><span class="p">.</span><span class="n">acquire</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="derived-object-pool">
<h2>derived_object_pool<a class="headerlink" href="#derived-object-pool" title="Link to this heading"></a></h2>
<p>Template class <code class="docutils literal notranslate"><span class="pre">derived_object_pool</span></code> is a more complex version of <code class="docutils literal notranslate"><span class="pre">block_pool</span></code>.
In fact, internally, it uses <code class="docutils literal notranslate"><span class="pre">block_pool</span></code> type by aggregation.
The <code class="docutils literal notranslate"><span class="pre">derived_object_pool</span></code> is capable of creating memory pool (arena) by selecting the
largest of the types provided in form of <code class="docutils literal notranslate"><span class="pre">type_list</span></code> as template argument.
This is similar to how <strong>union</strong> is allocating memory according to the size of its largest member.
The minimal BlockSize is platform’s pointer size!</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="n">util</span><span class="o">::</span><span class="n">estd</span><span class="o">::</span><span class="n">declare</span><span class="o">::</span><span class="n">derived_object_pool</span><span class="o">&lt;</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pool1</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lu </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cut</span><span class="p">.</span><span class="n">max_size</span><span class="p">());</span><span class="w"> </span><span class="c1">// prints 8</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">B</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w"> </span><span class="p">};</span>
<span class="n">util</span><span class="o">::</span><span class="n">estd</span><span class="o">::</span><span class="n">declare</span><span class="o">::</span><span class="n">derived_object_pool</span><span class="o">&lt;</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">estd</span><span class="o">::</span><span class="n">type_list</span><span class="o">&lt;</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">estd</span><span class="o">::</span><span class="n">type_list</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">pool2</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lu </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cut</span><span class="p">.</span><span class="n">max_size</span><span class="p">());</span><span class="w"> </span><span class="c1">// prints 16</span>
</pre></div>
</div>
</section>
<section id="intrusive">
<h2>intrusive<a class="headerlink" href="#intrusive" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Intrusive</span></code> class implements the concept of <strong>intrusive container</strong> - a container whose nodes are encapsulating
pointers that point to the next node so making linked list. The <strong>intrusive container</strong> does not need special
nodes be created since the (already allocated) objects are keeping the pointers as part of their types structure
(usually as private member).
In openBSW the typical approach to implement the nodes is to inherite a class/structure from <code class="docutils literal notranslate"><span class="pre">::estd::forward_list_node</span></code>.
Making so the instance of such class can be pushed as node into the object of type <code class="docutils literal notranslate"><span class="pre">::estd::forward_list</span></code>.
Forcing to inherit clients class/struct from <code class="docutils literal notranslate"><span class="pre">::estd::forward_list_node</span></code> may be disadvantage in case the
class/struct is not inheriting from it and may not be refactored or should not inherit by design.
In this case the <code class="docutils literal notranslate"><span class="pre">intrusive</span></code> may be a workaround:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Subject</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Here we still use the ::estd::forward_list and ::estd::forward_list_node as underlying types:</span>
<span class="k">using</span><span class="w"> </span><span class="n">intrusive_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">util</span><span class="o">::</span><span class="n">estd</span><span class="o">::</span><span class="n">intrusive</span><span class="o">&lt;::</span><span class="n">estd</span><span class="o">::</span><span class="n">forward_list</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">estd</span><span class="o">::</span><span class="n">forward_list_node</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">SubjectList</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">intrusive_list</span><span class="o">::</span><span class="n">of</span><span class="o">&lt;</span><span class="n">Subject</span><span class="o">&gt;::</span><span class="n">container</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">SubjectNode</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">intrusive_list</span><span class="o">::</span><span class="n">of</span><span class="o">&lt;</span><span class="n">Subject</span><span class="o">&gt;::</span><span class="n">node</span><span class="p">;</span>
<span class="n">SubjectList</span><span class="w"> </span><span class="n">list</span><span class="p">;</span>
<span class="n">list</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="c1">// here Subject(5) is initialized as base class of intrusive::node</span>
<span class="n">list</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span><span class="w"> </span><span class="c1">// here Subject(5) is initialized as base class of intrusive::node</span>
</pre></div>
</div>
</section>
<section id="observable">
<h2>observable<a class="headerlink" href="#observable" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">observable</span></code> class implements the <strong>Observable</strong> design pattern as the name suggests.
The class is using the above mentioned <code class="docutils literal notranslate"><span class="pre">Intrusive</span></code> type in its implementation.
Client of <code class="docutils literal notranslate"><span class="pre">observable</span></code> class needs to add so called <strong>observers</strong> into the observable,
presumabally light-weight objects that may only consist of a callable object (ex. ::estd::function).
Calling <code class="docutils literal notranslate"><span class="pre">notify()``method</span> <span class="pre">in</span> <span class="pre">``observable</span></code> iterates all oververs inferring the callbacks.</p>
<p>Assume we have a large existing class, that needs to become observer:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">BoolObserver</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">    </span><span class="c1">// Some function that needs to be called as callback from observable</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">using</span><span class="w"> </span><span class="n">bool_observable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">util</span><span class="o">::</span><span class="n">estd</span><span class="o">::</span><span class="n">observable</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p>In the client code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">BoolObserver</span><span class="w"> </span><span class="n">boolObserver1</span><span class="p">;</span>
<span class="c1">// Here the following types may be considered:</span>
<span class="c1">// Container is ::estd::forward_list</span>
<span class="c1">// Node is ::estd::forward_list_node</span>
<span class="c1">// T (NodeT or ValueT) is ::estd::function&lt;void(bool)&gt;</span>
<span class="c1">// intrusive::node is inheriting from ::estd::forward_list_node&gt; and ::estd::function&lt;void(bool)&gt;</span>
<span class="n">bool_observable</span><span class="o">::</span><span class="n">observer</span><span class="w"> </span><span class="nf">o1</span><span class="p">(</span>
<span class="w">    </span><span class="n">bool_observable</span><span class="o">::</span><span class="n">observer</span><span class="o">::</span><span class="n">type</span><span class="o">::</span><span class="n">create</span><span class="o">&lt;</span><span class="n">BoolObserver</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">BoolObserver</span><span class="o">::</span><span class="n">f</span><span class="o">&gt;</span><span class="p">(</span><span class="n">boolObserver1</span><span class="p">));</span>

<span class="n">BoolObserver</span><span class="w"> </span><span class="n">boolObserver2</span><span class="p">;</span>
<span class="n">bool_observable</span><span class="o">::</span><span class="n">observer</span><span class="w"> </span><span class="nf">o2</span><span class="p">(</span>
<span class="w">    </span><span class="n">bool_observable</span><span class="o">::</span><span class="n">observer</span><span class="o">::</span><span class="n">type</span><span class="o">::</span><span class="n">create</span><span class="o">&lt;</span><span class="n">BoolObserver</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">BoolObserver</span><span class="o">::</span><span class="n">f</span><span class="o">&gt;</span><span class="p">(</span><span class="n">boolObserver2</span><span class="p">));</span>

<span class="n">bool_observable</span><span class="w"> </span><span class="nf">b</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="n">b</span><span class="p">.</span><span class="n">add_observer</span><span class="p">(</span><span class="n">o1</span><span class="p">);</span>
<span class="n">b</span><span class="p">.</span><span class="n">add_observer</span><span class="p">(</span><span class="n">o2</span><span class="p">);</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="c1">// notifying the observers</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Accenture.</p>
  </div>

  <div role="footer_string">
    <p>Documentation from 2025-02-09 19:48:24, official build.</p>

    
      <a href="../../../../../_sources/libs/bsw/util/doc/user/estd.rst.txt" rel="nofollow"> View page source</a>
    

  </div>

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>